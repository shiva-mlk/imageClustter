{"ast":null,"code":"var _jsxFileName = \"/home/shiva/whatimage/whatimage-front/src/components/imageList/imageList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Spinner, Button } from 'react-bootstrap';\nimport Image from './image';\n\nclass ImageList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      visible: 2,\n      isLoading: true,\n      loaded: false\n    };\n\n    this.getImages = () => {\n      axios.get('http://127.0.0.1:8000/api/images/', {\n        headers: {\n          'accept': 'application/json'\n        }\n      }).then(resp => {\n        console.log(resp);\n        this.setState({\n          images: resp.data\n        });\n      });\n      this.setState({\n        isLoading: false\n      });\n    };\n\n    this.handleVisible = () => {\n      const visible = this.state.visible;\n      const new_visible = visible + 2;\n      this.setState({\n        loaded: true\n      });\n      this.setState({\n        visible: new_visible\n      });\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(this.getImages, 1500);\n  }\n\n  render() {\n    const images = this.state.images.slice(0, this.state.visible).map(img => {\n      return /*#__PURE__*/React.createElement(Image, {\n        key: img.id,\n        pic: img.picture,\n        name: img.classified,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, this.state.isLoading && /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }), images, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      size: \"lg\",\n      onClick: this.handleVisible,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, \"Load more\"));\n  }\n\n}\n\nexport default ImageList;","map":{"version":3,"sources":["/home/shiva/whatimage/whatimage-front/src/components/imageList/imageList.js"],"names":["React","Component","axios","Spinner","Button","Image","ImageList","state","images","visible","isLoading","loaded","getImages","get","headers","then","resp","console","log","setState","data","handleVisible","new_visible","componentDidMount","setTimeout","render","slice","map","img","id","picture","classified"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,iBAAhC;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,SAAN,SAAwBL,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAC9BM,KAD8B,GACtB;AACJC,MAAAA,MAAM,EAAC,EADH;AAEJC,MAAAA,OAAO,EAAE,CAFL;AAGJC,MAAAA,SAAS,EAAE,IAHP;AAIJC,MAAAA,MAAM,EAAE;AAJJ,KADsB;;AAAA,SAY9BC,SAZ8B,GAYlB,MAAK;AACZV,MAAAA,KAAK,CAACW,GAAN,CAAU,mCAAV,EAA+C;AAC5CC,QAAAA,OAAO,EAAE;AACL,oBAAU;AADL;AADmC,OAA/C,EAIEC,IAJF,CAIOC,IAAI,IAAE;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,aAAKG,QAAL,CAAc;AAACX,UAAAA,MAAM,EAACQ,IAAI,CAACI;AAAb,SAAd;AACH,OAPA;AAQD,WAAKD,QAAL,CAAc;AAACT,QAAAA,SAAS,EAAC;AAAX,OAAd;AACF,KAtB4B;;AAAA,SAuB7BW,aAvB6B,GAuBd,MAAI;AAEf,YAAMZ,OAAO,GAAG,KAAKF,KAAL,CAAWE,OAA3B;AACA,YAAMa,WAAW,GAAGb,OAAO,GAAC,CAA5B;AACA,WAAKU,QAAL,CAAc;AAACR,QAAAA,MAAM,EAAC;AAAR,OAAd;AACA,WAAKQ,QAAL,CAAc;AAACV,QAAAA,OAAO,EAACa;AAAT,OAAd;AACH,KA7B4B;AAAA;;AAQ9BC,EAAAA,iBAAiB,GAAE;AAEdC,IAAAA,UAAU,CAAC,KAAKZ,SAAN,EAAgB,IAAhB,CAAV;AACH;;AAoBFa,EAAAA,MAAM,GAAG;AACL,UAAMjB,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAAX,CAAkBkB,KAAlB,CAAwB,CAAxB,EAA2B,KAAKnB,KAAL,CAAWE,OAAtC,EAA+CkB,GAA/C,CAAmDC,GAAG,IAAE;AACnE,0BAAO,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAEA,GAAG,CAACC,EAAhB;AAAoB,QAAA,GAAG,EAAED,GAAG,CAACE,OAA7B;AAAsC,QAAA,IAAI,EAAEF,GAAG,CAACG,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFc,CAAf;AAGA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKxB,KAAL,CAAWG,SAAX,iBACD,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAIKF,MAJL,eAKI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,IAAI,EAAC,IAA/B;AAAoC,MAAA,OAAO,EAAE,KAAKa,aAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALJ,CADJ;AASH;;AA5C6B;;AA+ClC,eAAef,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport { Spinner, Button } from 'react-bootstrap';\nimport Image from './image'\n\nclass ImageList extends Component {\n    state = { \n        images:[],\n        visible :2,\n        isLoading: true,\n        loaded: false,\n     }\n\n    componentDidMount(){\n\n         setTimeout(this.getImages,1500)\n     }\n    getImages = () =>{\n         axios.get('http://127.0.0.1:8000/api/images/', {\n            headers: {\n                'accept': 'application/json'\n         }\n        }).then(resp=>{\n            console.log(resp);\n            this.setState({images:resp.data})\n        })\n        this.setState({isLoading:false})\n     }\n     handleVisible =()=>{\n        \n         const visible = this.state.visible\n         const new_visible = visible+2\n         this.setState({loaded:true})\n         this.setState({visible:new_visible})\n     }\n\n    render() { \n        const images = this.state.images.slice(0, this.state.visible).map(img=>{\n            return <Image key={img.id} pic={img.picture} name={img.classified}/>\n        })\n        return ( \n            <div>\n                {this.state.isLoading &&\n                <Spinner animation=\"border\" role=\"status\"></Spinner>}\n                <br/>\n                {images}\n                <Button variant='primary' size='lg' onClick={this.handleVisible}>Load more</Button>\n            </div>\n         );\n    }\n}\n \nexport default ImageList;"]},"metadata":{},"sourceType":"module"}