{"ast":null,"code":"var _jsxFileName = \"/home/shiva/whatimage/whatimage-front/src/components/imageList/imageList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Spinner, Button } from 'react-bootstrap';\nimport Image from './image';\n\nclass ImageList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      visible: 2,\n      isLoading: true,\n      loaded: false\n    };\n\n    this.getImages = () => {\n      axios.get('http://127.0.0.1:8000/api/images/', {\n        headers: {\n          'accept': 'application/json'\n        }\n      }).then(resp => {\n        console.log(resp);\n        this.setState({\n          images: resp.data\n        });\n      });\n      this.setState({\n        isLoading: false\n      });\n    };\n\n    this.handleVisible = () => {\n      const visible = this.state.visible;\n      const new_visible = visible + 2;\n      this.setState({\n        loaded: true\n      });\n      setTimeout(() => {\n        this.setState({\n          loaded: false,\n          visible: new_visible\n        });\n      }, 300);\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(this.getImages, 1500);\n  }\n\n  render() {\n    const images = this.state.images.slice(0, this.state.visible).map(img => {\n      return /*#__PURE__*/React.createElement(Image, {\n        key: img.id,\n        pic: img.picture,\n        name: img.classified,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, \"Image list here:\"), this.state.isLoading ? /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, this.state.images.length === 0 ? /*#__PURE__*/React.createElement(\"p1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    }, \"no images classified\") : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }\n    }, images, this.state.loaded && /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }), this.state.images.length > this.state.visible ? /*#__PURE__*/React.createElement(Button, {\n      className: \"mb-4\",\n      variant: \"primary\",\n      size: \"lg\",\n      onClick: this.handleVisible,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }\n    }, \"Load more\") : /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    }, \"no more images to load\"))));\n  }\n\n}\n\nexport default ImageList;","map":{"version":3,"sources":["/home/shiva/whatimage/whatimage-front/src/components/imageList/imageList.js"],"names":["React","Component","axios","Spinner","Button","Image","ImageList","state","images","visible","isLoading","loaded","getImages","get","headers","then","resp","console","log","setState","data","handleVisible","new_visible","setTimeout","componentDidMount","render","slice","map","img","id","picture","classified","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport { Spinner, Button } from 'react-bootstrap';\nimport Image from './image'\n\nclass ImageList extends Component {\n    state = { \n        images:[],\n        visible :2,\n        isLoading: true,\n        loaded: false,\n     }\n\n    componentDidMount(){\n\n         setTimeout(this.getImages,1500)\n     }\n    getImages = () =>{\n         axios.get('http://127.0.0.1:8000/api/images/', {\n            headers: {\n                'accept': 'application/json'\n         }\n        }).then(resp=>{\n            console.log(resp);\n            this.setState({images:resp.data})\n        })\n        this.setState({isLoading:false})\n     }\n     handleVisible =()=>{\n        \n         const visible = this.state.visible\n         const new_visible = visible+2\n         this.setState({loaded:true})\n         setTimeout(()=>{\n            this.setState({\n                loaded:false,\n                visible:new_visible})},300)\n        \n     }\n\n    render() { \n        const images = this.state.images.slice(0, this.state.visible).map(img=>{\n            return <Image key={img.id} pic={img.picture} name={img.classified}/>\n        })\n        return ( \n            <div>\n                <h1>Image list here:</h1>\n                {this.state.isLoading ?\n                <Spinner animation=\"border\" role=\"status\"></Spinner>\n                :\n                    <React.Fragment>\n                        {this.state.images.length===0  ?\n                            <p1>no images classified</p1>\n                        :\n                            <React.Fragment>\n                                {images}\n                                {this.state.loaded &&\n                                <Spinner animation=\"border\" role=\"status\"></Spinner>}\n                                <br/>\n                                {this.state.images.length > this.state.visible ?\n                                    <Button className=\"mb-4\" variant='primary' size='lg' onClick={this.handleVisible}>Load more</Button>\n                                :\n                                    <h3 className=\"mb-4\">no more images to load</h3>\n                                }\n                            </React.Fragment>\n    }\n                    </React.Fragment>\n    }\n            </div>\n         );\n    }\n}\n \nexport default ImageList;"]},"metadata":{},"sourceType":"module"}